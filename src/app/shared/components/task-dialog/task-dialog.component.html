<div class="modal d-block" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content border-0 rounded-xxl shadow-soft glass slide-up">
  <div class="modal-header bg-light border-bottom-0 rounded-top-xxl">
        <h5 class="modal-title fw-bold">
          <span class="material-icons align-middle me-2">{{ task.id ? 'edit_note' : 'add_task' }}</span>
          {{ task.id ? 'Edit' : 'Create New' }} Task
        </h5>
        <button type="button" class="btn-close" (click)="onCancel()" aria-label="Close"></button>
      </div>
      
      <form (ngSubmit)="onSubmit()" #taskForm="ngForm">
  <div class="modal-body p-4">
          <div class="mb-4">
            <label for="title" class="form-label text-secondary fw-medium">Title</label>
            <div class="input-group">
              <span class="input-group-text bg-light">
                <span class="material-icons text-secondary">title</span>
              </span>
              <input
                type="text"
                class="form-control form-control-lg"
                id="title"
                name="title"
                [(ngModel)]="taskCopy.title"
                required
                placeholder="Enter a descriptive title"
                #titleInput="ngModel"
              />
            </div>
            <div class="text-danger small mt-1" *ngIf="titleInput.invalid && (titleInput.dirty || titleInput.touched)">
              Title is required
            </div>
          </div>

          <div class="mb-4">
            <label for="description" class="form-label text-secondary fw-medium">Description</label>
            <div class="border-subtle rounded-xl overflow-hidden shadow-soft">
              <quill-editor
                class="content-editor"
                [(ngModel)]="taskCopy.description"
                name="description"
                [modules]="quillConfig.modules"
                [formats]="quillConfig.formats"
                [placeholder]="quillConfig.placeholder"
                [styles]="{ minHeight: '200px' }"
                [theme]="quillConfig.theme"
                [required]="true" 
              ></quill-editor>
            </div>
          </div>

          <div class="row g-4">
            <div class="col-md-6">
              <label for="deadline" class="form-label text-secondary fw-medium">Deadline</label>
              <div class="input-group">
                <span class="input-group-text bg-light">
                  <span class="material-icons text-secondary">event</span>
                </span>
                <input
                  type="datetime-local"
                  class="form-control"
                  id="deadline"
                  name="deadline"
                  [ngModel]="taskCopy.deadline | date:'yyyy-MM-ddTHH:mm'"
                  (ngModelChange)="taskCopy.deadline = $event"
                  required
                  #deadlineInput="ngModel"
                />
              </div>
              <div class="text-danger small mt-1" *ngIf="deadlineInput.invalid && (deadlineInput.dirty || deadlineInput.touched)">
                Deadline is required
              </div>
            </div>

            <div class="col-md-6">
              <label for="status" class="form-label text-secondary fw-medium">Status</label>
              <div class="input-group">
                <span class="input-group-text bg-light">
                  <span class="material-icons text-secondary">flag</span>
                </span>
                <select
                  class="form-select"
                  id="status"
                  name="status"
                  [(ngModel)]="taskCopy.status"
                  required
                  #statusInput="ngModel"
                >
                  <option [value]="TaskStatus.Pending">ğŸ“‹ Pending</option>
                  <option [value]="TaskStatus.InProgress">ğŸ”„ In Progress</option>
                  <option [value]="TaskStatus.Completed">âœ… Completed</option>
                </select>
              </div>
              <div class="text-danger small mt-1" *ngIf="statusInput.invalid && (statusInput.dirty || statusInput.touched)">
                Status is required
              </div>
            </div>
          </div>
        </div>

  <div class="modal-footer bg-light border-top-0 p-4 rounded-bottom-xxl">
          <button
            type="button"
            class="btn btn-light btn-lg px-4 hover-lift"
            (click)="onCancel()"
          >
            <span class="material-icons me-2">close</span>
            Cancel
          </button>
          <button
            type="submit"
            class="btn btn-accent btn-lg px-4 ms-2 hover-lift"
            [disabled]="!taskForm.form.valid || taskForm.pristine"
          >
            <span class="material-icons me-2">{{ task.id ? 'save' : 'add_circle' }}</span>
            {{ task.id ? 'Update Task' : 'Create Task' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<div class="modal-backdrop fade show"></div>